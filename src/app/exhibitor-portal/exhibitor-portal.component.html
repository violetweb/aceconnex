
<!-- SUB NAVIGATION WITHIN THIS SECTION-->
<app-enav></app-enav>
<mat-tab-group>
  <mat-tab label="Company">
    
      <mat-card>
          
        <mat-card-content>
                <label *ngIf="!published">UNPUBLISHED</label><button *ngIf="!published" class="material-icons" mat-button (click)="onPublish()">PUBLISH</button>
                <button *ngIf="published" class="material-icons" mat-button>PUBLISHED</button>
        </mat-card-content>

      </mat-card>
      <mat-card>
    
        <mat-card-title>Company Location / Contact Info</mat-card-title>   
        <mat-card-content>   

            <div class="row">
                
                    <div class="col-md-4 col-md-offset-1">
                        <mat-card>
                            <mat-card-title>Company Logo</mat-card-title>
                            <mat-card-subtitle>Upload logo</mat-card-subtitle>
                            <img mat-card-avatar *ngIf="logoIsSet" src="" alt="company-logo">
                            <div *ngIf="!logoIsSet">

                                    <app-matupload (complete)="onFileComplete($event)"></app-matupload>
                     <!--           <label for="singleFile">Upload file</label>
                                <input id="singleFile" type="file"  [fileUploadInputFor]= "fileUploadQueue"/>
                                
                                <mat-file-upload-queue #fileUploadQueue
                                    [fileAlias]="'file'"
                                        [httpUrl]="'http://api.acetronic.com/upload'" >
                                <mat-file-upload (onUpload)="onFileComplete($event)" [file]="file" [id]="i" *ngFor="let file of fileUploadQueue.files; let i = index"></mat-file-upload>
                                </mat-file-upload-queue>
                            -->
                            </div>                                            
                        </mat-card>

                </div>
                <div class="col-md-6 col-md-offset-1">  
                    <div *ngIf="exhibitorData">
                       
                        <div *ngFor="let item of exhibitorData;">
                        <mat-card class="co_address" >
                                                            
                            {{item.id}} |  {{item.company}}<br/>
                            {{item.address1}} {{item.address2}}<br/>
                            {{item.city }} {{item.prov}}  {{item.postal_zip}}
                        </mat-card>
                        <mat-card class="co_phone">
                            <mat-card-title>Phone Numbers</mat-card-title>
                            <table>
                                <tr>
                                    <td><mat-icon aria-hidden="false" aria-label="Main Phone">home</mat-icon>
                                    </td>
                                    <td>{{item.phone1}}</td>
                                </tr>
                                <tr>
                                    <td><mat-icon aria-hidden="false" aria-label="Business Phone">business</mat-icon>
                                    </td>
                                    <td>{{item.phone2}}</td>
                                </tr>
                                <tr>
                                    <td><mat-icon aria-hidden="false" aria-label="Ohter Phone">perm_contact_calendar</mat-icon>
                                    </td>
                                    <td>{{item.phone3}}</td>
                                </tr>
                            </table>
                        
                        </mat-card>
                        <mat-card class="co-about">
                            <p>{{item.companyabout}}</p>
                        </mat-card>
                        </div>
                    </div>
            <form *ngIf="!exhibitorData" [formGroup]="companyForm" (ngSubmit)="onSubmit()">
                    <div class="form-group">
                        <label for="companyname">Company name</label>
                        <input type="text" formControlName="companyname" placeholder="ABC Corporation" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.companyname.errors }" />
                        <div *ngIf="submitted && f.companyname.errors" class="invalid-feedback">
                            <div *ngIf="f.companyname.errors.required">Company is required</div>
                        </div>
                    </div>
                    <div class="row">
                    <div class="form-group col-md-6">
                        <label for="address1">Address</label>
                        <input type="text" formControlName="address1" placeholder="Street Address 1" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.address1.errors }" />
                        <div *ngIf="submitted && f.address1.errors" class="invalid-feedback">
                            <div *ngIf="f.address1.errors.required">Street Address is required</div>
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <label for="address2">Address 2</label>
                        <input type="text" formControlName="address2" placeholder="Street Address 2" class="form-control" />
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-5">
                        <label for="city">City</label>
                        <input type="text" formControlName="city" placeholder="ABC Corporation" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.city.errors }" />
                        <div *ngIf="submitted && f.city.errors" class="invalid-feedback">
                            <div *ngIf="f.city.errors.required">City is required</div>
                        </div>
                    </div>
                    <div class="form-group col-md-3">
                        <label for="prov">Prov</label>
                        <input type="text" formControlName="prov" placeholder="ABC Corporation" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.prov.errors }" />
                        <div *ngIf="submitted && f.prov.errors" class="invalid-feedback">
                            <div *ngIf="f.prov.errors.required">City is required</div>
                        </div>
                    </div>
                    <div class="form-group col-md-3">
                        <label for="postal_zip">Postal / Zip Code</label>
                        <input type="text" formControlName="postal_zip" placeholder="ABC Corporation" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.postal_zip.errors }" />
                        <div *ngIf="submitted && f.postal_zip.errors" class="invalid-feedback">
                            <div *ngIf="f.postal_zip.errors.required">City is required</div>
                        </div>
                    </div>
                </div>
                
                <div class="row">
                    <div class="form-group col-md-4">
                        <label for="phone1">Main Phone</label>
                        <input type="text" formControlName="phone1" placeholder="Phone 1" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.phone1.errors }" />
                        <div *ngIf="submitted && f.phone1.errors" class="invalid-feedback">
                                <div *ngIf="f.phone1.errors.required">Phone is required</div>
                        </div>
                    </div>
                    <div class="form-group col-md-4">
                            <label for="phone2">Mobile / Direct Phone</label>
                            <input type="text" formControlName="phone2" placeholder="Phone 2" class="form-control" />
                        </div>
                        <div class="form-group col-md-4">
                                <label for="phone3">Main Phone</label>
                                <input type="text" formControlName="phone3" placeholder="Phone 3" class="form-control"/>
                                
                            </div>
                </div>
                <div class="row">
                    <textarea formControlName="companyabout">About Goes here</textarea>
                </div>
                    <div class="form-group">
                        <button [disabled]="loading" class="btn btn-primary btn-lg btn-block">Submit</button>
                        <img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
                    </div>
                    <div class="form-group border-top">              
                        <p class="text-right pt-2">If you would like to exhibit, please visit this page :...Haven't got an account?&nbsp;&nbsp;<a [routerLink]="['/register']" class="btn-link">Register</a></p>
                    </div>
                </form>
            </div>
                    </div>
                    
                         
                        </mat-card-content>
     
     
       
                    </mat-card>

                    <mat-card>
                        <mat-card-title>Contacts</mat-card-title>
                        <mat-card-content>
                                <button mat-button (click)="onAddContact()">Add Contact</button>
<p>Need to add an editable row here</p>
<div *ngIf="contactsexist" >
                   
        <mat-table #table [dataSource]="contactsData">

                <!-- Position Column -->
                <ng-container matColumnDef="id">
                    <mat-header-cell *matHeaderCellDef> Id. </mat-header-cell>
                    <mat-cell *matCellDef="let element"> {{element.id}} 
                        <button mat-button (click)="deleteContact(element.id)">delete</button>
                    </mat-cell>
                </ng-container>
             <!--   <ng-container matColumnDef="exhibitorid">
                        <mat-header-cell *matHeaderCellDef> Exhibitor Id. </mat-header-cell>
                        <mat-cell *matCellDef="let element"> {{element.exhibitorid}} </mat-cell>
                </ng-container>
            -->
                <!-- Name Column -->
                <ng-container matColumnDef="contactname">
                    <mat-header-cell *matHeaderCellDef> Contact Name </mat-header-cell>
                    <mat-cell *matCellDef="let element">
                        <mat-form-field floatLabel="never">
                            <input matInput (change)="updateContact(element)" placeholder="Contact Name" [value]="element.contactname" [(ngModel)]="element.contactname">
                        </mat-form-field>
                    </mat-cell>
                </ng-container>
        
                <!-- Weight Column -->
                <ng-container matColumnDef="title">
                    <mat-header-cell *matHeaderCellDef> Title </mat-header-cell>
                    <mat-cell *matCellDef="let element">
                    <mat-form-field floatLabel="never">
                            <input matInput (change)="updateContact(element)" placeholder="Title" [value]="element.title" [(ngModel)]="element.title">
                        </mat-form-field>
                    </mat-cell>
                </ng-container>
        
                <!-- Symbol Column -->
                <ng-container matColumnDef="email">
                    <mat-header-cell *matHeaderCellDef> Email </mat-header-cell>
                    
                    <mat-cell *matCellDef="let element">
                        <mat-form-field floatLabel="never">
                            <input matInput (change)="updateContact(element)" placeholder="Email" [value]="element.email" [(ngModel)]="element.email">
                        </mat-form-field>
                    </mat-cell>
                </ng-container>
        
                <!-- Fav Column -->
                <ng-container matColumnDef="phone">
                    <mat-header-cell *matHeaderCellDef> Phone </mat-header-cell>
                    <mat-cell *matCellDef="let element">
                        <mat-form-field floatLabel="never">
                            <input matInput (change)="updateContact(element)"  placeholder="Phone" [value]="element.phone" [(ngModel)]="element.phone">
                        </mat-form-field>
                    </mat-cell>
                </ng-container>

                  <!-- Symbol Column -->
                  <ng-container matColumnDef="ext">
                        <mat-header-cell *matHeaderCellDef> Ext </mat-header-cell>
                        <mat-cell *matCellDef="let element">
                            <mat-form-field floatLabel="never">
                                <input matInput (change)="updateContact(element)" placeholder="Ext" [value]="element.ext" [(ngModel)]="element.ext">
                            </mat-form-field>
                        </mat-cell>
                    </ng-container>

                       <!-- Symbol Column -->
                  <ng-container matColumnDef="contacttype">
                        <mat-header-cell *matHeaderCellDef> Contact Type </mat-header-cell>
                        <mat-cell *matCellDef="let element">
                            <mat-form-field floatLabel="never">
                                <input matInput (change)="updateContact(element)" placeholder="Type" [value]="element.contacttype" [(ngModel)]="element.contacttype">
                            </mat-form-field>
                        </mat-cell>
                    </ng-container>
                             <!-- Symbol Column -->
          
        
                <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
            </mat-table>
       

<!-- TURN OFF
                            <table class="table table-condensed">

                               
                                <tr *ngFor="let c of contactsData;">
                                    <td>
                                        <div *ngIf="contactedit">
                                            <input [required]="required" [name]="contactname" [(ngModel)]="c.contactname" />
                                            <input [required]="required" [name]="title" [(ngModel)]="c.title" />
                                        </div>
                                        <div *ngIf="!contactedit">
                                            {{c.contactname}} {{c.title}}
                                        </div></td>
                                    <td><div *ngIf="contactedit">
                                            <input [required]="required" [name]="email" [(ngModel)]="c.email" [placeholder]="label" />
                                        </div>
                                        <div *ngIf="!contactedit">
                                                {{c.email}}
                                        </div></td>
                                    <td>
                                        <div *ngIf="contactedit">
                                                <input [required]="required" [name]="phone" [(ngModel)]="c.phone" />
                                                <input [required]="required" [name]="ext" [(ngModel)]="c.ext" />
                                        </div>
                                        <div *ngIf="!contactedit">
                                        {{c.phone}}  {{c.ext}}
                                        </div>
                                    </td>
                                    <td>
                                        <div *ngIf="contactedit">
                                            <button mat-button (click)="onSaveContact(c.id)">submit</button>
                                        </div>
                                        <div *ngIf="!contactedit">
                                        <button mat-button (click)="onEditContact(c.id)">edit</button>
                                        </div>
                                    </td>

                                </tr>
                            </table>
                      -->
                            </div>
                        
                            <!-- IF EXISTS : mat panel content : contacts section -->
                            <div *ngIf="!contactsexist || addcontact">
                                     
                                    <form [formGroup]="contactsForm" (ngSubmit)="onContactsSubmit()">
                                        <div class="row">
                                            <div class="form-group col-md-6">
                                                <label for="contactname">Contact Name</label>
                                                <input type="text" formControlName="contactname" placeholder="Contact Name" class="form-control" [ngClass]="{ 'is-invalid': submitted && c.contactname.errors }" />
                                                <div *ngIf="submitted && c.contactname.errors" class="invalid-feedback">
                                                    <div *ngIf="c.contactname.errors.required">Contact Name is required</div>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-5">
                                                    <label for="title">Title</label>
                                                    <input type="text" formControlName="title" placeholder="Title" class="form-control" [ngClass]="{ 'is-invalid': submitted && c.title.errors }" />
                                                    <div *ngIf="submitted && c.title.errors" class="invalid-feedback">
                                                        <div *ngIf="c.title.errors.required">Title is required</div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                
                                                <div class="form-group col-md-4">
                                                    <label for="phone">Phone</label>
                                                    <input type="text" formControlName="phone" placeholder="Phone" class="form-control" [ngClass]="{ 'is-invalid': submitted && c.phone.errors }" />
                                                    <div *ngIf="submitted && c.phone.errors" class="invalid-feedback">
                                                        <div *ngIf="c.phone.errors.required">Phone is required</div>
                                                    </div>
                                                </div>
                                                <div class="form-group col-md-3">
                                                        <label for="ext">Ext</label>
                                                        <input type="text" formControlName="ext" placeholder="Ext" class="form-control" />
                                                        <div *ngIf="submitted && c.ext.errors" class="invalid-feedback">
                                                            <div *ngIf="c.ext.errors.required">Ext is required</div>
                                                        </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="form-group col-md-6">
                                                    <label for="email">Email</label>
                                                    <input type="text" formControlName="email" placeholder="email" class="form-control" [ngClass]="{ 'is-invalid': submitted && c.email.errors }" />
                                                    <div *ngIf="submitted && c.email.errors" class="invalid-feedback">
                                                        <div *ngIf="c.email.errors.required">Email is required</div>
                                                    </div>
                                                </div>
                                                <div class="form-group col-md-6">
                                                        <button [disabled]="loading" class="btn btn-primary btn-lg btn-block">Submit</button>
                                                        <img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
                                                    </div>
                                            </div>
                                        </form>
                            </div>
                            </mat-card-content>
                        </mat-card>
              

  </mat-tab>
  <mat-tab label="Venue">Venue</mat-tab>
  <mat-tab label="Attendees">Attendees</mat-tab>
  <mat-tab label="Marketing">Marketing</mat-tab>
</mat-tab-group>


 
 

